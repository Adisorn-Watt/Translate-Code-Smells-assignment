# Comments

### Signs and Symptoms : สัญญาณและอาการของปัญหา

เกิดจากการที่ method เต็มไปด้วย comments และคำอธิบายต่างๆ

### Reasons for the Problem : สาเหตุของปัญหา

- ส่วนใหญ่แล้วดรามักจะเขียน comments ไว้เพราะว่าโค้ดของเรานั้นมีความซับซ้อน และเข้าใจได้ยาก ซึ่งในกรณีแบบนี้ การเขียน comments ก็เหมือนกับการใช้ยาดับกลิ่นกาย คอยกลบกลิ่นเหม็นเอาไว้ ซึ่งเราควรเรียนรู้วิธีปรับปรุงบรรดา comments เหล่านี้
- ถ้าหากโค้ดของเรานั้นมีความซับซ้อนมาก และไม่สามารถหลีกเลี่ยงการใช้ comments ได้ สิ่งที่ควรทำคือ พยายามเปลี่ยนโครงสร้างโค้ดให้มีความเข้าใจง่าย และไม่จำเป็นต้องใช้ comments

### Treatment : วิธีปรับปรุง

- ถ้าหากเราใช้ comments เพื่ออธิบายความซับซ้อนของ expression ในโค้ด เราควรแตกตัวแปรออกมา ให้สามารถเข้าใจง่ายด้วยตัวของมันเอง ด้วยวิธีการ [Extract Variable](https://sourcemaking.com/refactoring/extract-variable)
- ถ้าหากเราใช้ comments เพื่ออธิบายความซับซ้อนของโครงสร้างในส่วนต่างๆของโค้ด เราควรแบ่งออกมาเป็นเมธอดต่างๆ ที่เข้าใจง่าย ซึ่งชื่อเมธอดที่เราสร้างใหม่นั้น อาจจะตั้งชื่อตาม comments ทีเราเคยใช้อธิบายในส่วนนั้นๆก็ได้ ซึ่งการทำแบบนี้คือ [Extract Method](https://sourcemaking.com/refactoring/extract-method)
- ถ้าหากแบ่งเมธอดแล้ว แต่ยังมีการใช้ comments ที่ไม่จำเป็นอยู่ ก็ควรเปลี่ยนชื่อเมธอด หรือ [Rename Method](https://sourcemaking.com/refactoring/rename-method) เหล่านั้นใหม่ ให้สามารถอธิบายการทำงานของเมธอดนั้นๆด้วยตัวของมันเอง
- ถ้าต้องการ assert rules ซึ่งจำเป็นต่อการทำงานของระบบ ให้ใช้ [Introduce Assertion](https://sourcemaking.com/refactoring/introduce-assertion)

### Payoff : ผลลัพธ์

โค้ดมีความซับซ้อนน้อยลงและสามารถเข้าใจได้ง่ายขึ้น

### When to ignore : เราสามารถใช้ comments ได้เมื่อไหร่?

- เมื่อมีการอธิบายถึงการใช้ เมธอด, ฟังกชัน หรือวิธีการต่างๆในลักษณะเฉพาะ
- เมื่อ algorithm มีความซับซ้อนมากๆ เราสามารถใช้ comments ได้(เมื่อมีการลองใช้วิธีอื่นๆทั้งหมดที่กล่าวมา ในการทำให้ algorithm ง่ายขึ้นและกระชับ ได้ใจความแล้ว)
